(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{112:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return g}));var l=t(0),a=t.n(l);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,l,a=function(e,n){if(null==e)return{};var t,l,a={},r=Object.keys(e);for(l=0;l<r.length;l++)t=r[l],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)t=r[l],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var b=a.a.createContext({}),o=function(e){var n=a.a.useContext(b),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},d=function(e){var n=o(e.components);return a.a.createElement(b.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},m=a.a.forwardRef((function(e,n){var t=e.components,l=e.mdxType,r=e.originalType,c=e.parentName,b=s(e,["components","mdxType","originalType","parentName"]),d=o(t),m=l,g=d["".concat(c,".").concat(m)]||d[m]||u[m]||r;return t?a.a.createElement(g,i(i({ref:n},b),{},{components:t})):a.a.createElement(g,i({ref:n},b))}));function g(e,n){var t=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var r=t.length,c=new Array(r);c[0]=m;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i.mdxType="string"==typeof e?e:l,c[1]=i;for(var b=2;b<r;b++)c[b]=t[b];return a.a.createElement.apply(null,c)}return a.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},135:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/crm-list-52e4ed97d12d1d294f22420a1553b99e.png"},136:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/crm-customer-detail-58182d6f5311466f29a168ff1924f1ab.png"},137:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/crm-follow-list-53d353d23dc8c98c24cecf2614c45f1e.png"},138:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/crm-follow-add-f214b5f64b9dfeda62c22907faa201d5.png"},139:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/page-config-cf4994bfd642037f215a59d055b30528.png"},174:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/crm-list-raw-77a37606371d25bca5767c42d6d1bd08.png"},175:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/crm-add-customer-43a92fab567816cd54b9d08fdfa96e46.png"},176:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/crm-detail-raw-d52923b7db950e6b25f241cdde098389.png"},177:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/crm-list-raw-2-d81bc42cc4ac23635b9ad43d01939a8d.png"},178:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/config-all-5706fe508b98e373e56d7074e67e2be6.png"},179:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/config-list-bc2b5d6362091d9a7cdf72190d1222b7.png"},180:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/config-combo-d65d0856eb3512dab34265a26f0fd0cc.png"},181:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/config-rainbow-7799a2a07ff3ec0caeacae3c38cf5f51.png"},182:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/config-filter-2d442bae4f3d1d3cbca7e6b60a6ec60c.png"},183:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/config-detail-1-fd451db6f9a66996171900c4d3c8b825.png"},184:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/config-detail-2-ba7555d8c46c26f5f0eaabc508f65f0e.png"},185:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/config-detail-3-72f71d2401ac9d501111f36bebbf0728.png"},186:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/contact-list-2c9c2bcc8c445b9b92827c27693bf8a6.png"},187:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/contact-form-d47baa81f49c2ed9949fe087804741ca.png"},188:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/follow-list-f02ba0dbb9770acab1070ce23e6ad66b.png"},189:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/follow-filter-de46b4511f98865517c04cf61f08da10.jpeg"},190:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/follow-form-e83df7b6dcefcbc24414766e83a9489b.png"},191:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/upload-54d49ce6caf2dc4c30b7bfc97700d45c.png"},72:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"metadata",(function(){return i})),t.d(n,"rightToc",(function(){return s})),t.d(n,"default",(function(){return o}));var l=t(3),a=t(7),r=(t(0),t(112)),c={id:"crm",title:"\u793a\u4f8b\u5e94\u7528\uff1aCRM -- \u5ba2\u6237\u5173\u7cfb\u7ba1\u7406"},i={unversionedId:"crm",id:"crm",isDocsHomePage:!1,title:"\u793a\u4f8b\u5e94\u7528\uff1aCRM -- \u5ba2\u6237\u5173\u7cfb\u7ba1\u7406",description:"\u6211\u4eec\u901a\u8fc7\u505a\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684CRM\u6765\u4e86\u89e3lightning\u6846\u67b6\u7684\u57fa\u672c\u7528\u6cd5\u3002",source:"@site/docs/crm.md",slug:"/crm",permalink:"/lightning-doc/docs/crm",editUrl:"https://gitee.com/gitmen/lightning-doc-src/blob/master/docs/crm.md",version:"current",sidebar:"someSidebar",previous:{title:"\u5feb\u901f\u5f00\u59cb",permalink:"/lightning-doc/docs/start"},next:{title:"\u4f7f\u7528\u624b\u518c",permalink:"/lightning-doc/docs/guide/index"}},s=[{value:"\u521b\u5efacrm\u9879\u76ee",id:"\u521b\u5efacrm\u9879\u76ee",children:[]},{value:"\u521b\u5efalinghtning_crm\u5e94\u7528",id:"\u521b\u5efalinghtning_crm\u5e94\u7528",children:[]},{value:"\u7f16\u5199\u4e1a\u52a1\u6a21\u578b",id:"\u7f16\u5199\u4e1a\u52a1\u6a21\u578b",children:[]},{value:"\u5e94\u7528\u6a21\u578b\u53d8\u66f4",id:"\u5e94\u7528\u6a21\u578b\u53d8\u66f4",children:[]},{value:"\u751f\u6210\u7ba1\u7406\u754c\u9762",id:"\u751f\u6210\u7ba1\u7406\u754c\u9762",children:[]},{value:"\u67e5\u770b\u751f\u6210\u7684\u7ba1\u7406\u754c\u9762",id:"\u67e5\u770b\u751f\u6210\u7684\u7ba1\u7406\u754c\u9762",children:[]},{value:"\u8c03\u51fa\u914d\u7f6e\u7ba1\u7406\u754c\u9762",id:"\u8c03\u51fa\u914d\u7f6e\u7ba1\u7406\u754c\u9762",children:[]},{value:"\u914d\u7f6e\u5ba2\u6237\u7ba1\u7406\u9875\u9762",id:"\u914d\u7f6e\u5ba2\u6237\u7ba1\u7406\u9875\u9762",children:[{value:"\u5217\u8868\u9875",id:"\u5217\u8868\u9875",children:[]},{value:"\u8be6\u60c5\u9875",id:"\u8be6\u60c5\u9875",children:[]}]},{value:"\u914d\u7f6e\u8054\u7cfb\u4eba\u9875\u9762",id:"\u914d\u7f6e\u8054\u7cfb\u4eba\u9875\u9762",children:[{value:"\u5217\u8868\u9875",id:"\u5217\u8868\u9875-1",children:[]},{value:"\u8868\u5355\u9875",id:"\u8868\u5355\u9875",children:[]}]},{value:"\u914d\u7f6e\u8ddf\u8fdb\u4eba\u9875\u9762",id:"\u914d\u7f6e\u8ddf\u8fdb\u4eba\u9875\u9762",children:[{value:"\u5217\u8868\u9875",id:"\u5217\u8868\u9875-2",children:[]},{value:"\u8868\u5355\u9875",id:"\u8868\u5355\u9875-1",children:[]}]},{value:"\u5173\u4e8e\u56fe\u7247\u4e0a\u4f20",id:"\u5173\u4e8e\u56fe\u7247\u4e0a\u4f20",children:[]},{value:"\u5c0f\u7ed3",id:"\u5c0f\u7ed3",children:[]}],b={rightToc:s};function o(e){var n=e.components,c=Object(a.a)(e,["components"]);return Object(r.b)("wrapper",Object(l.a)({},b,c,{components:n,mdxType:"MDXLayout"}),Object(r.b)("p",null,"\u6211\u4eec\u901a\u8fc7\u505a\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684CRM\u6765\u4e86\u89e3lightning\u6846\u67b6\u7684\u57fa\u672c\u7528\u6cd5\u3002"),Object(r.b)("p",null,"\u5728\u6b64\uff0c\u6211\u5047\u8bbe\u4f60\u5df2\u7ecf\u8ddf\u968f",Object(r.b)("a",Object(l.a)({parentName:"p"},{href:"start"}),"\u5feb\u901f\u5f00\u59cb"),"\u7684\u6307\u5f15\uff0c\u6210\u529f\u628alightning\u5e93\u5b89\u88c5\u5230\u4e86\u4f60\u7684\u9879\u76ee\u4e2d\u3002"),Object(r.b)("h2",{id:"\u521b\u5efacrm\u9879\u76ee"},"\u521b\u5efacrm\u9879\u76ee"),Object(r.b)("p",null,"\u901a\u8fc7django\u7684 startproject\u547d\u4ee4\uff0c\u521b\u5efa\u4e00\u4e2a\u540d\u4e3acrm\u7684\u9879\u76ee\uff1a"),Object(r.b)("pre",null,Object(r.b)("code",Object(l.a)({parentName:"pre"},{className:"language-sh"}),"$./manage.py startproject crm\n")),Object(r.b)("h2",{id:"\u521b\u5efalinghtning_crm\u5e94\u7528"},"\u521b\u5efalinghtning_crm\u5e94\u7528"),Object(r.b)("p",null,"\u901a\u8fc7django \u7684 startapp\u547d\u4ee4\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u540d\u4e3alightning_crm\u7684app\u3002"),Object(r.b)("pre",null,Object(r.b)("code",Object(l.a)({parentName:"pre"},{className:"language-sh"}),"$ cd crm\n$ ./manage.py startapp lightning_crm\n")),Object(r.b)("p",null,"\u5728\u9879\u76ee\u7684settings.py\u7684 INSTALL_APPS\u4e2d\u52a0\u5165",Object(r.b)("inlineCode",{parentName:"p"},"lightning_crm"),"\uff1a"),Object(r.b)("pre",null,Object(r.b)("code",Object(l.a)({parentName:"pre"},{className:"language-python"}),"INSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'lightning_crm'\n]\n")),Object(r.b)("h2",{id:"\u7f16\u5199\u4e1a\u52a1\u6a21\u578b"},"\u7f16\u5199\u4e1a\u52a1\u6a21\u578b"),Object(r.b)("p",null,"\u4e3b\u8981\u4e1a\u52a1\u6a21\u578b\u6709\u4e09\u4e2a\uff1a"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"\u5ba2\u6237"),Object(r.b)("li",{parentName:"ol"},"\u8054\u7cfb\u4eba"),Object(r.b)("li",{parentName:"ol"},"\u8ddf\u8fdb")),Object(r.b)("p",null,"\u55ef\u3002\u53e6\u5916\u6709\u4e00\u4e2a\u56fe\u7247\u7684\u6570\u636e\u6a21\u578b"),Object(r.b)("p",null,"lightning_crm/models.py \u7684\u4ee3\u7801\u5982\u4e0b\uff1a"),Object(r.b)("pre",null,Object(r.b)("code",Object(l.a)({parentName:"pre"},{className:"language-python"}),"from django.db import models\nfrom django.conf import settings\nfrom django.contrib.auth.models import User\n\nfrom lightning.fields import ImageURLField\n\n\nclass Image(models.Model):\n    url = ImageURLField('\u94fe\u63a5')\n    name = models.CharField('\u6587\u4ef6\u540d', max_length=200, null=True, blank=True)\n    create_time = models.DateTimeField('\u4e0a\u4f20\u65f6\u95f4', auto_now_add=True)\n    create_by = models.ForeignKey(settings.AUTH_USER_MODEL, models.SET_NULL, null=True, blank=True, verbose_name='\u4e0a\u4f20\u8005')\n\n    class Meta:\n        verbose_name = '\u56fe\u7247'\n        verbose_name_plural = '\u56fe\u7247'\n    \n    class GMeta:\n        title_field = 'name'\n        creator_field = 'create_by'\n\n\nclass AbstractCustomer(models.Model):\n    name = models.CharField('\u540d\u5b57', max_length=100)\n    description = models.CharField('\u7b80\u4ecb', max_length=1024, null=True, blank=True)\n    avatar = ImageURLField('\u5934\u50cf', blank=True, null=True)\n    is_organization = models.BooleanField('\u662f\u5426\u673a\u6784', default=False)\n    org_name = models.CharField('\u673a\u6784\u5168\u79f0', max_length=200, null=True, blank=True)\n    org_code = models.CharField('\u673a\u6784\u4ee3\u7801', max_length=200, null=True, blank=True)\n    phone = models.CharField('\u7535\u8bdd', max_length=20, null=True, blank=True)\n    address = models.CharField('\u5730\u5740', max_length=300, null=True, blank=True)\n    email = models.EmailField('\u90ae\u7bb1', max_length=100, null=True, blank=True)\n    weixin = models.CharField('\u5fae\u4fe1\u53f7', max_length=100, null=True, blank=True)\n    qq = models.CharField('QQ\u53f7', max_length=100, null=True, blank=True)\n    identity_code = models.CharField('\u8eab\u4efd\u8bc1\u53f7', max_length=100, null=True, blank=True)\n    stage = models.CharField('\u9636\u6bb5', max_length=20, choices=settings.LIGHTNING_CRM_CUSTOMER_STAGES, default='')\n    source = models.CharField('\u6e20\u9053\u6765\u6e90', max_length=100, choices=settings.LIGHTNING_CRM_CUSTOMER_SOURCE, default='')\n    referrer = models.ForeignKey('self', models.SET_NULL, null=True, blank=True, verbose_name='\u5f15\u8350\u5ba2\u6237')\n    follwer = models.ForeignKey(settings.AUTH_USER_MODEL, models.SET_NULL, null=True, blank=True, verbose_name='\u8ddf\u8fdb\u4eba', related_name='following_customers')\n\n    create_time = models.DateTimeField('\u521b\u5efa\u65f6\u95f4', auto_now_add=True)\n    update_time = models.DateTimeField('\u4fee\u6539\u65f6\u95f4', auto_now=True)\n    create_by = models.ForeignKey(settings.AUTH_USER_MODEL, models.SET_NULL, null=True, blank=True, verbose_name='\u521b\u5efa\u4eba', related_name='created_customers')\n\n    def __str__(self):\n        return self.name\n\n    class Meta:\n        abstract = True\n        verbose_name = '\u5ba2\u6237'\n        verbose_name_plural = '\u5ba2\u6237'\n\n    class GMeta:\n        title_field = 'name'\n        creator_field = 'create_by'\n\n\nclass Customer(AbstractCustomer):\n\n    class Meta(AbstractCustomer.Meta):\n        swappable = 'LIGHTNING_CRM_CUSTOMER_MODEL'\n\n\nclass Contact(models.Model):\n    customer = models.ForeignKey(settings.LIGHTNING_CRM_CUSTOMER_MODEL, models.SET_NULL, \n        null=True, blank=True, verbose_name='\u5ba2\u6237')\n    description = models.CharField('\u7b80\u4ecb', max_length=1024, null=True, blank=True)\n    name = models.CharField('\u540d\u5b57', max_length=100)\n    title = models.CharField('\u804c\u4f4d', max_length=100, null=True, blank=True)\n    avatar = ImageURLField('\u5934\u50cf', blank=True, null=True)\n    phone = models.CharField('\u7535\u8bdd', max_length=20, null=True, blank=True)\n    address = models.CharField('\u5730\u5740', max_length=300, null=True, blank=True)\n    email = models.EmailField('\u90ae\u7bb1', max_length=100, null=True, blank=True)\n    weixin = models.CharField('\u5fae\u4fe1\u53f7', max_length=100, null=True, blank=True)\n    qq = models.CharField('QQ\u53f7', max_length=100, null=True, blank=True)\n    identity_code = models.CharField('\u8eab\u4efd\u8bc1\u53f7', max_length=100, null=True, blank=True)\n\n    create_time = models.DateTimeField('\u521b\u5efa\u65f6\u95f4', auto_now_add=True)\n    create_by = models.ForeignKey(settings.AUTH_USER_MODEL, models.SET_NULL, null=True,\n        blank=True, verbose_name='\u521b\u5efa\u4eba')\n\n    class Meta:\n        verbose_name = '\u8054\u7cfb\u4eba'\n        verbose_name_plural = '\u8054\u7cfb\u4eba'\n    \n    class GMeta:\n        title_field = 'name'\n        creator_field = 'create_by'\n\n\nclass FollowUp(models.Model):\n    customer = models.ForeignKey(settings.LIGHTNING_CRM_CUSTOMER_MODEL, models.SET_NULL,\n        null=True, blank=True, verbose_name='\u5ba2\u6237')\n    action_type = models.CharField('\u8ddf\u8fdb\u7c7b\u578b', max_length=50, \n        choices=settings.LIGHTNING_CRM_FOLLOWUP_TYPE,default='')\n    content = models.TextField('\u8ddf\u8fdb\u5185\u5bb9', null=True, blank=True)\n    images = models.ManyToManyField(Image, blank=True, verbose_name='\u56fe\u7247')\n    contacts = models.ManyToManyField(Contact, blank=True, verbose_name='\u8054\u7cfb\u4eba')\n    follow_up_time = models.DateTimeField('\u521b\u5efa\u65f6\u95f4', auto_now_add=True)\n    follow_up_by = models.ForeignKey(settings.AUTH_USER_MODEL, models.SET_NULL,\n        null=True, blank=True, verbose_name='\u8ddf\u8fdb\u4eba')\n\n    class Meta:\n        verbose_name = '\u8ddf\u8fdb'\n        verbose_name_plural = '\u8ddf\u8fdb'\n\n    class GMeta:\n        creator_field = 'follow_up_by'\n")),Object(r.b)("p",null,"\u6211\u4eec\u9664\u4e86\u770b\u5230\u719f\u6089\u7684Django \u6a21\u578b\u4ee3\u7801\u5916\uff0c\u8fd8\u53d1\u73b0\u591a\u4e86\u4e00\u4e2aGMeta\u7684\u7c7b\u5b9a\u4e49\uff0c\u5b83\u662flightning\u4e13\u7528\u5c5e\u6027\u5b9a\u4e49\u7684\u7c7b\uff0c\u540e\u7ee7\u7684\u6587\u6863\u4f1a\u5c55\u5f00\u63cf\u8ff0\uff0c\u672c\u4f8b\u4e2d\u9047\u5230\u7684\u51e0\u4e2a\u914d\u7f6e\u8bf4\u660e\u5982\u4e0b\uff1a"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"title_field : \u58f0\u660e\u5728\u754c\u9762\u5c55\u793a\u6574\u4e2a\u5bf9\u8c61\u6570\u636e\u7684\u65f6\u5019\uff0c\u9ed8\u8ba4\u4f7f\u7528\u7684\u5b57\u6bb5\u3002\u5982\u5728\u5217\u8868\u4e2d\u663e\u793a\u4e00\u4e2aForeignKey\u5bf9\u8c61\uff0c\u4f1a\u8f93\u51fa\u8be5\u5bf9\u8c61\u7684title_field\u5b57\u6bb5\uff0c\u5426\u5219\u9ed8\u8ba4\u8f93\u51fa\u8be5\u5bf9\u8c61\u7684\u4e3b\u952e\u503c\u3002\u4f5c\u7528\u7c7b\u4f3c\u4e8e",Object(r.b)("inlineCode",{parentName:"li"},"__str__"),"\u51fd\u6570\u3002"),Object(r.b)("li",{parentName:"ol"},"creator_field : \u58f0\u660e\u521b\u5efa\u8005\u5b57\u6bb5\uff0c\u8be5\u5b57\u6bb5\u5fc5\u987b\u662f\u7528\u6237\u7c7b\u578b\u7684\u5916\u952e\u3002\u4f5c\u7528\u662f\u4f1a\u81ea\u52a8\u4f7f\u7528\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237\u586b\u5145\u6307\u5b9a\u7684\u5b57\u6bb5\uff0c\u4ec5\u53d1\u751f\u5728\u6570\u636e\u7684\u7b2c\u4e00\u6b21\u4fdd\u5b58\u65f6\u3002\u7c7b\u4f3cDatetimeField\u7684auto_now_add\u7684\u529f\u80fd\u3002"),Object(r.b)("li",{parentName:"ol"},"updater_field : \u58f0\u660e\u66f4\u65b0\u8005\u5b57\u6bb5\uff0c\u548ccreator_field\u662f\u59d0\u59b9\u5c5e\u6027\uff0c\u8981\u6c42\u7684\u5b57\u6bb5\u4e5f\u662f\u7528\u6237\u7c7b\u578b\u7684\u5916\u952e\uff0c\u4f5c\u7528\u662f\u4f1a\u81ea\u52a8\u4f7f\u7528\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237\u586b\u5145\u6307\u5b9a\u7684\u5b57\u6bb5\uff0c\u53d1\u751f\u5728\u6bcf\u4e00\u6b21\u6570\u636e\u7684\u4fee\u6539\u65f6\u3002\u7c7b\u4f3cDatetimeField\u7684auto_now\u7684\u529f\u80fd\u3002")),Object(r.b)("p",null,"\u4ee5\u4e0a\u7684\u6a21\u578b\u4ee3\u7801\u4e2d\uff0c\u6709\u4e9b\u5b57\u6bb5\u7684\u9009\u9879\u6211\u4eec\u505a\u6210\u4e86\u53ef\u914d\u7f6e\u9879\uff08\u4f8b\u5982\u4e0d\u540c\u884c\u4e1a\u7684\u5ba2\u6237\u5728\u9500\u552e\u8fc7\u7a0b\u4e2d\u6709\u4e0d\u540c\u7684\u9636\u6bb5\u5b9a\u4e49\uff09\uff0c\u9700\u8981\u5728settings.py\u91cc\u9762\u8fdb\u884c\u914d\u7f6e\uff1a"),Object(r.b)("pre",null,Object(r.b)("code",Object(l.a)({parentName:"pre"},{className:"language-python"}),"LIGHTNING_CRM_CUSTOMER_MODEL = 'lightning_crm.customer'  # \u5ba2\u6237\u6a21\u578b\n\nLIGHTNING_CRM_CUSTOMER_STAGES = (  # \u5ba2\u6237\u9636\u6bb5\n    ('lead', '\u9500\u552e\u7ebf\u7d22'),\n    ('intention', '\u6709\u610f\u5411'),\n    ('trial', '\u8bd5\u7528'),\n    ('paid', '\u4ed8\u8d39'),\n    ('repaid', '\u590d\u8d2d'),\n    ('lost', '\u4e22\u5931')\n)\nLIGHTNING_CRM_CUSTOMER_SOURCE = (  # \u5ba2\u6237\u6765\u6e90\u6e20\u9053\n    ('website', '\u7f51\u7ad9'),\n    ('wechat', '\u516c\u4f17\u53f7'),\n    ('recommand', '\u670b\u53cb\u63a8\u8350'),\n)\nLIGHTNING_CRM_FOLLOWUP_TYPE = (  # \u8ddf\u8fdb\u7684\u7c7b\u578b\n    ('call', '\u6253\u7535\u8bdd'),\n    ('email', '\u53d1\u90ae\u4ef6'),\n    ('wechat', '\u5fae\u4fe1\u6c9f\u901a'),\n    ('visit', '\u62dc\u8bbf'),\n    ('meetting', '\u4f1a\u8bae'),\n)\n")),Object(r.b)("p",null,"\u6211\u4eec\u5efa\u8bae\u4f60\u4eb2\u81ea\u52a8\u624b\u521b\u5efa\u5e94\u7528\u548c\u7f16\u5199\u4e0a\u9762\u7684\u4ee3\u7801\u6765\u8d34\u8eab\u611f\u53d7lightning\uff0c\u5f53\u7136\u4e5f\u7ed9\u61d2\u4eba\u670b\u53cb\u51c6\u5907\u597d\u4e86\u5b8c\u6574\u7684",Object(r.b)("a",Object(l.a)({parentName:"p"},{href:"https://gitee.com/gitmen/lightning-crm"}),"\u4ee3\u7801"),"\u3002"),Object(r.b)("h2",{id:"\u5e94\u7528\u6a21\u578b\u53d8\u66f4"},"\u5e94\u7528\u6a21\u578b\u53d8\u66f4"),Object(r.b)("p",null,"\u6267\u884cdjango\u7684migrate\u547d\u4ee4\uff0c\u4e3a\u51e0\u4e2a\u6a21\u578b\u521b\u5efa\u6570\u636e\u5e93\u8868\uff1a"),Object(r.b)("pre",null,Object(r.b)("code",Object(l.a)({parentName:"pre"},{className:"language-sh"}),"$ ./manage.py makemigrations\n$ ./manage.py migrate\n")),Object(r.b)("h2",{id:"\u751f\u6210\u7ba1\u7406\u754c\u9762"},"\u751f\u6210\u7ba1\u7406\u754c\u9762"),Object(r.b)("p",null,"\u6267\u884clight \u547d\u4ee4\uff0c\u4e3acrm\u5e94\u7528\u751f\u6210\u9ed8\u8ba4\u7684\u7ba1\u7406\u754c\u9762\uff1a"),Object(r.b)("pre",null,Object(r.b)("code",Object(l.a)({parentName:"pre"},{}),"$ ./manage.py light lightning_crm\n")),Object(r.b)("h2",{id:"\u67e5\u770b\u751f\u6210\u7684\u7ba1\u7406\u754c\u9762"},"\u67e5\u770b\u751f\u6210\u7684\u7ba1\u7406\u754c\u9762"),Object(r.b)("p",null,"\u6211\u4eec\u4ee5\u5ba2\u6237\u7ba1\u7406\u7684\u754c\u9762\u4e3a\u4f8b\uff0c\u770b\u4e00\u4e0blightning\u81ea\u52a8\u751f\u6210\u7684\u754c\u9762\uff1a"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"\u5ba2\u6237\u5217\u8868\uff1a\n",Object(r.b)("img",{alt:"\u5ba2\u6237\u5217\u8868",src:t(174).default}))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"\u6dfb\u52a0\u5ba2\u6237\n",Object(r.b)("img",{alt:"\u6dfb\u52a0\u5ba2\u6237",src:t(175).default}))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"\u5ba2\u6237\u8be6\u60c5\n",Object(r.b)("img",{alt:"\u5ba2\u6237\u8be6\u60c5",src:t(176).default})))),Object(r.b)("h2",{id:"\u8c03\u51fa\u914d\u7f6e\u7ba1\u7406\u754c\u9762"},"\u8c03\u51fa\u914d\u7f6e\u7ba1\u7406\u754c\u9762"),Object(r.b)("p",null,"\u9ed8\u8ba4\u751f\u6210\u7684\u6837\u5b50\u5c1a\u7b97\u53ef\u7528\uff0c\u4e0b\u9762\u6211\u4eec\u52a8\u52a8\u624b\uff0c\u8ba9\u5ba2\u6237\u7ba1\u7406\u7684\u53ef\u7528\u6027\u66f4\u5f3a\uff0c\u9996\u5148\uff0c\u5728\u5ba2\u6237\u7ba1\u7406\u754c\u9762\uff0c\u6211\u4eec\u70b9\u51fb\u53f3\u4fa7\u7684\u9875\u9762\u914d\u7f6e\u6309\u94ae\uff0c\u5524\u51fa\u914d\u7f6e\u9762\u677f\u3002"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"\u70b9\u51fb\u9875\u9875\u914d\u7f6e\u6309\u94ae\uff1a")),Object(r.b)("p",null,Object(r.b)("img",{alt:"\u5ba2\u6237\u5217\u8868",src:t(177).default})),Object(r.b)("ol",{start:2},Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"\u5f39\u51fa\u914d\u7f6e\u754c\u9762\uff1a\n",Object(r.b)("img",{alt:"\u9875\u9762\u914d\u7f6e",src:t(139).default}))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"\u6216\u8005\u4ece\u83dc\u5355\uff1a\u5f00\u53d1\u7ba1\u7406 -> \u9875\u9762\u914d\u7f6e \u6253\u5f00\u914d\u7f6e\u529f\u80fd\uff0c\u53ef\u5bf9\u6bcf\u4e2a\u6a21\u578b\u8fdb\u884c\u9875\u9762\u914d\u7f6e\uff1a\n",Object(r.b)("img",{alt:"\u9875\u9762\u914d\u7f6e",src:t(178).default})))),Object(r.b)("h2",{id:"\u914d\u7f6e\u5ba2\u6237\u7ba1\u7406\u9875\u9762"},"\u914d\u7f6e\u5ba2\u6237\u7ba1\u7406\u9875\u9762"),Object(r.b)("p",null,"\u5ba2\u6237\u7ba1\u7406\u4e3b\u8981\u914d\u7f6e\u5217\u8868\u9875\u548c\u8be6\u60c5\u9875"),Object(r.b)("h3",{id:"\u5217\u8868\u9875"},"\u5217\u8868\u9875"),Object(r.b)("h4",{id:"\u5217\u8868\u5b57\u6bb5"},"\u5217\u8868\u5b57\u6bb5"),Object(r.b)("p",null,"\u5217\u8868\u5b57\u6bb5\u914d\u7f6e\uff0c\u5220\u6389\u591a\u4f59\u7684\u5b57\u6bb5\uff0c\u4fdd\u7559\u4e0b\u9762\u7684\u5b57\u6bb5\uff1a"),Object(r.b)("p",null,Object(r.b)("img",{alt:"\u5217\u8868\u914d\u7f6e",src:t(179).default}),"\n\u5176\u4e2d\u7b2c\u4e00\u4e2a\u5b57\u6bb5\u662f\u7ec4\u5408\u5b57\u6bb5\uff0c\u9700\u8981\u70b9\u51fb\u6dfb\u52a0\u7ec4\u5408\u5b57\u6bb5\u6765\u5f00\u59cb\uff0c\u8fd9\u4e2a\u7ec4\u5408\u5b57\u6bb5\u4f7f\u7528\u4e86\u56fe\u6587\u6a21\u677f\uff0c\u7ed1\u5b9a\u4e86\u4e09\u4e2a\u5b57\u6bb5\uff1a"),Object(r.b)("p",null,Object(r.b)("img",{alt:"\u7ec4\u5408\u5b57\u6bb5",src:t(180).default})),Object(r.b)("p",null,"\u9636\u6bb5\u5b57\u6bb5\u662f\u4e00\u4e2a\u5f69\u8679\u6807\u7b7e\u7684\u7ec4\u4ef6\uff0c\u5c55\u5f00\u914d\u7f6e\u5982\u4e0b\uff1a"),Object(r.b)("p",null,Object(r.b)("img",{alt:"\u5217\u8868\u914d\u7f6e",src:t(181).default})),Object(r.b)("h4",{id:"\u7b5b\u9009\u5b57\u6bb5"},"\u7b5b\u9009\u5b57\u6bb5"),Object(r.b)("p",null,"\u5141\u8bb8\u7528\u6237\u901a\u8fc7\u4ee5\u4e0b\u6761\u4ef6\u7b5b\u9009\u5ba2\u6237\uff1a"),Object(r.b)("p",null,Object(r.b)("img",{alt:"\u7b5b\u9009\u6761\u4ef6\u914d\u7f6e",src:t(182).default})),Object(r.b)("h3",{id:"\u8be6\u60c5\u9875"},"\u8be6\u60c5\u9875"),Object(r.b)("p",null,"\u5ba2\u6237\u8be6\u60c5\u9875\u5206\u4e86\u4e09\u4e2a\u6807\u7b7e\u9875\u663e\u793a\uff1a"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"\u6807\u7b7e1\uff0c\u663e\u793a\u5ba2\u6237\u81ea\u8eab\u7684\u8d44\u6599:\n",Object(r.b)("img",{alt:"\u5ba2\u6237\u8d44\u6599",src:t(183).default})),Object(r.b)("li",{parentName:"ol"},"\u6807\u7b7e2\uff0c\u663e\u793a\u5ba2\u6237\u7684\u8054\u7cfb\u4eba\u5217\u8868\u3002\n",Object(r.b)("img",{alt:"\u8054\u7cfb\u4eba\u5217\u8868",src:t(184).default})),Object(r.b)("li",{parentName:"ol"},"\u6807\u7b7e3\uff0c\u663e\u793a\u5bf9\u8be5\u5ba2\u6237\u7684\u8ddf\u8fdb\u5386\u53f2\u3002\n",Object(r.b)("img",{alt:"\u8ddf\u8fdb\u5386\u53f2\u914d\u7f6e",src:t(185).default}))),Object(r.b)("p",null,"\u5ba2\u6237\u7ba1\u7406\u9875\u9762\u4e2d\u7684\u8054\u7cfb\u4eba\u53ca\u8ddf\u8fdb\u5217\u8868\u9ed8\u8ba4\u4f7f\u7528\u5173\u8054\u6a21\u578b\u81ea\u8eab\u7684\u5217\u8868\u914d\u7f6e\uff0c\u8868\u5355\u9ed8\u8ba4\u4e5f\u662f\uff0c\u5f53\u6211\u4eec\u8981\u8c03\u6574\u8fd9\u4e24\u4e2a\u5217\u8868\u7684\u7ec6\u8282\u65f6\uff0c\u6211\u4eec\u627e\u5230\u8fd9\u4e24\u4e2a\u6a21\u578b\u7684\u9875\u9762\u914d\u7f6e\u9762\u677f\u8fdb\u884c\u8c03\u6574\u3002"),Object(r.b)("h2",{id:"\u914d\u7f6e\u8054\u7cfb\u4eba\u9875\u9762"},"\u914d\u7f6e\u8054\u7cfb\u4eba\u9875\u9762"),Object(r.b)("h3",{id:"\u5217\u8868\u9875-1"},"\u5217\u8868\u9875"),Object(r.b)("p",null,"\u4fdd\u7559\u4ee5\u4e0b\u5217\u8868\u5b57\u6bb5\uff0c\u591a\u4f59\u7684\u53ef\u5220\u9664\uff1a\n",Object(r.b)("img",{alt:"\u8054\u7cfb\u4eba\u5217\u8868",src:t(186).default})),Object(r.b)("p",null,"\u7b5b\u9009\u6761\u4ef6\u6e05\u7a7a\u6216\u6839\u636e\u9700\u8981\u4fdd\u7559\u90e8\u4efd\u5b57\u6bb5\u3002"),Object(r.b)("h3",{id:"\u8868\u5355\u9875"},"\u8868\u5355\u9875"),Object(r.b)("p",null,"\u8868\u5355\u9875\u4fdd\u7559\u4ee5\u4e0b\u5b57\u6bb5\uff1a\n",Object(r.b)("img",{alt:"\u8054\u7cfb\u4eba\u8868\u5355",src:t(187).default})),Object(r.b)("h2",{id:"\u914d\u7f6e\u8ddf\u8fdb\u4eba\u9875\u9762"},"\u914d\u7f6e\u8ddf\u8fdb\u4eba\u9875\u9762"),Object(r.b)("h3",{id:"\u5217\u8868\u9875-2"},"\u5217\u8868\u9875"),Object(r.b)("p",null,"\u4fdd\u7559\u4ee5\u4e0b\u5217\u8868\u5b57\u6bb5\uff1a\n",Object(r.b)("img",{alt:"\u8ddf\u8fdb\u5217\u8868",src:t(188).default})),Object(r.b)("p",null,"\u7b5b\u9009\u6761\u4ef6\u4fdd\u7559\u4e24\u4e2a\uff1a\n",Object(r.b)("img",{alt:"\u8ddf\u8fdb\u7b5b\u9009\u6761\u4ef6",src:t(189).default})),Object(r.b)("h3",{id:"\u8868\u5355\u9875-1"},"\u8868\u5355\u9875"),Object(r.b)("p",null,"\u8868\u5355\u9875\u4fdd\u7559\u4ee5\u4e0b\u5b57\u6bb5\uff1a\n",Object(r.b)("img",{alt:"\u8ddf\u8fdb\u8868\u5355",src:t(190).default})),Object(r.b)("h2",{id:"\u5173\u4e8e\u56fe\u7247\u4e0a\u4f20"},"\u5173\u4e8e\u56fe\u7247\u4e0a\u4f20"),Object(r.b)("p",null,"\u8981\u4f7f\u7528lightning\u7684\u56fe\u7247\u4e0a\u4f20\u529f\u80fd\uff0c\u5728\u70b9\u51fb\u9875\u9762\u53f3\u4e0a\u89d2\u7684",Object(r.b)("inlineCode",{parentName:"p"},"\u7cfb\u7edf\u8bbe\u7f6e"),"\u83dc\u5355\uff0c\u627e\u5230\u4e0a\u4f20\u914d\u7f6e\u9875\uff0c\u914d\u7f6e\u597d\u4e0a\u4f20\u7684\u5b58\u50a8\u7c7b\u578b,\u76ee\u524d\u652f\u6301\u6587\u4ef6\u7cfb\u7edf\u3001\u963f\u91cc\u4e91OSS\u548c\u817e\u8baf\u4e91COS\uff1a\n",Object(r.b)("img",{alt:"\u4e0a\u4f20\u914d\u7f6e",src:t(191).default})),Object(r.b)("h2",{id:"\u5c0f\u7ed3"},"\u5c0f\u7ed3"),Object(r.b)("p",null,"\u597d\u4e86\uff0c\u5230\u6b64\u4e3a\u6b62\uff0c10\u5206\u949f\u5de6\u53f3\uff0c\u4e00\u4e2a\u7b80\u6613\u7684CRM\u7cfb\u7edf\u5c31\u5b8c\u6210\u4e86\uff0c\u4f7f\u7528\u5ba2\u6237\u7ba1\u7406\u8fd9\u4e2a\u529f\u80fd\u6a21\u5757\u5c31\u80fd\u5f00\u59cb\u65e5\u5e38\u7684\u5ba2\u6237\u7ba1\u7406\u5de5\u4f5c\u4e86\uff0c\u4ee5\u4e0b\u662f\u914d\u7f6e\u597d\u7684\u9875\u9762\u6548\u679c\uff1a"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"\u5ba2\u6237\u5217\u8868\u9875\u9762:\n",Object(r.b)("img",{alt:"\u5ba2\u6237\u5217\u8868",src:t(135).default})),Object(r.b)("li",{parentName:"ol"},"\u5ba2\u6237\b\u8be6\u60c5\u9875\uff0c\u652f\u6301\u591a\u79cd\u8be6\u60c5\u6392\u5217\u6837\u5f0f\u548c\u5206\u7ec4:\n",Object(r.b)("img",{alt:"\u5ba2\u6237\u8be6\u60c5",src:t(136).default})),Object(r.b)("li",{parentName:"ol"},"\u5ba2\u6237\u8be6\u60c5\u9875\uff0c\u8fd8\u53ef\u4ee5\u663e\u793a\u5173\u8054\u6a21\u578b\u7684\u5217\u8868\u6570\u636e:\n",Object(r.b)("img",{alt:"\u5ba2\u6237\u8ddf\u8fdb",src:t(137).default})),Object(r.b)("li",{parentName:"ol"},"\u5ba2\u6237\u8be6\u60c5\u9875\u5185\uff0c\u53ef\u4ee5\u5feb\u901f\u6dfb\u52a0\u5173\u8054\u6a21\u578b\u7684\u6570\u636e:\n",Object(r.b)("img",{alt:"\u65b0\u589e\u8ddf\u8fdb",src:t(138).default}))),Object(r.b)("p",null,"\u5f53\u7136\u8ddd\u79bb\u4ea7\u54c1\u7ea7\u7684CRM\u8fd8\u9700\u8981\u66f4\u591a\u7684\u914d\u7f6e\u6216\u5f00\u53d1\u5de5\u4f5c\uff0c\u4f8b\u5982\u529f\u80fd\u4e0e\u6570\u636e\u6743\u9650\u7684\u914d\u7f6e\u7b49\uff0c\u4f46\u6211\u60f3\u4f60\u5df2\u7ecf\u5bf9lightning\u7684\u5a01\u529b\u6709\u6240\u4f53\u4f1a\u4e86\uff0c\u5982\u679c\u5bf9lightning\u611f\u5174\u8da3\uff0c\u90a3\u5c31\u7ee7\u7eed\u5f80\u4e0b\u5b66\u4e60\u5427\uff01"))}o.isMDXComponent=!0}}]);